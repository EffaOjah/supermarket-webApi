<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>MaryBill Conglomerate Ltd. - Account Statement</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
	<script src="https://kit.fontawesome.com/a207e207d8.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="/css/ready.css">
	<link rel="stylesheet" href="/css/demo.css">
	<link rel="icon" type="image/x-icon" href="/img/app_icon.ico">
	<link rel="stylesheet" href="/iziToast-master/dist/css/iziToast.min.css">
	<style>
		.statement-card { box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); border-radius: 12px; border: none; }
		.card-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px 12px 0 0 !important; padding: 1.5rem; }
		.balance-summary { background: #f7fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; }
		.balance-item { padding: 1rem; background: white; border-radius: 6px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); }
	</style>
</head>
<body>
	<div class="wrapper">
		<div class="main-header">
			<div class="logo-header">
				<a href="/admin/dashboard" class="logo">MaryBill Conglomerate</a>
				<button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<button class="topbar-toggler more"><i class="la la-ellipsis-v"></i></button>
			</div>
			<nav class="navbar navbar-header navbar-expand-lg">
				<div class="container-fluid">
					<form class="navbar-left navbar-form nav-search mr-md-3" action="">
						<div class="input-group">
							<input type="text" placeholder="Search ..." class="form-control">
							<div class="input-group-append"><span class="input-group-text"><i class="la la-search search-icon"></i></span></div>
						</div>
					</form>
					<ul class="navbar-nav topbar-nav ml-md-auto align-items-center">
						<li class="nav-item dropdown hidden-caret">
							<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="la la-envelope"></i></a>
						</li>
						<li class="nav-item dropdown">
							<a class="dropdown-toggle profile-pic" data-toggle="dropdown" href="#" aria-expanded="false"><img src="/img/profile-icon.png" alt="user-img" width="36" class="img-circle"><span>Steven</span></a>
							<ul class="dropdown-menu dropdown-user">
								<li><div class="user-box"><div class="u-img"><img src="/img/profile-icon.png" alt="user"></div><div class="u-text"><h4>Steven</h4><p class="text-muted">hello@themekita.com</p><a href="#" class="btn btn-rounded btn-danger btn-sm">View Profile</a></div></div></li>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="#"><i class="ti-user"></i> My Profile</a>
								<a class="dropdown-item" href="#"></i> My Balance</a>
								<a class="dropdown-item" href="#"><i class="ti-email"></i> Inbox</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="#"><i class="ti-settings"></i> Account Setting</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="#"><i class="fa fa-power-off"></i> Logout</a>
							</ul>
						</li>
					</ul>
				</div>
			</nav>
		</div>
		
		<!-- Sidebar -->
        <!-- Sidebar -->
        <% if (user && user.role === 'accountant') { %>
            <%- include('partials/accountant-sidebar') %>
        <% } else { %>
            <%- include('partials/sidebar') %>
        <% } %>
        <!-- End Sidebar -->
		<!-- End Sidebar -->
		
		<div class="main-panel">
			<div class="content">
				<div class="container-fluid">
					<div class="d-flex justify-content-between align-items-center mb-4">
						<h4 class="page-title mb-0"><i class="fa-solid fa-file-lines"></i> <span class="text-primary">Account Statement</span></h4>
						<a href="/ledger/accounts" class="btn btn-secondary"><i class="fa-solid fa-arrow-left"></i> Back to Accounts</a>
					</div>
					<div class="balance-summary">
						<div class="row">
							<div class="col-md-8">
								<h5><%= account.account_code %> - <%= account.account_name %></h5>
								<p class="text-muted mb-0"><%= account.description || 'No description' %></p>
								<span class="badge badge-primary mt-2"><%= account.account_type %></span>
							</div>
							<div class="col-md-4">
								<div class="balance-item text-center">
									<small class="text-muted">Current Balance</small>
									<h3 class="mb-0">â‚¦<%= balance.balance.toLocaleString('en-NG', {minimumFractionDigits: 2, maximumFractionDigits: 2}) %></h3>
								</div>
							</div>
						</div>
					</div>
					<div class="row mb-4">
						<div class="col-md-4">
							<div class="balance-item text-center">
								<small class="text-muted">Total Debits</small>
								<h5 class="text-success mb-0">â‚¦<%= balance.totalDebits.toLocaleString('en-NG', {minimumFractionDigits: 2, maximumFractionDigits: 2}) %></h5>
							</div>
						</div>
						<div class="col-md-4">
							<div class="balance-item text-center">
								<small class="text-muted">Total Credits</small>
								<h5 class="text-danger mb-0">â‚¦<%= balance.totalCredits.toLocaleString('en-NG', {minimumFractionDigits: 2, maximumFractionDigits: 2}) %></h5>
							</div>
						</div>
						<div class="col-md-4">
							<div class="balance-item text-center">
								<small class="text-muted">Net Balance</small>
								<h5 class="text-primary mb-0">â‚¦<%= balance.balance.toLocaleString('en-NG', {minimumFractionDigits: 2, maximumFractionDigits: 2}) %></h5>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="card statement-card">
								<div class="card-header">
									<div class="card-title"><i class="fa-solid fa-list"></i> Transaction History</div>
								</div>
								<div class="card-body">
									<p class="text-center text-muted"><i class="fa-solid fa-info-circle"></i> Detailed transaction history will be displayed here.<br>This feature shows all debits and credits for this account.</p>
								</div>
								<div class="card-footer text-right">
									<button class="btn btn-primary" onclick="window.print()"><i class="fa-solid fa-print"></i> Print Statement</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<%- include('./partials/responseMessage') %>
	<script src="/js/core/jquery.3.2.1.min.js"></script>
	<script src="/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
	<script src="/js/core/popper.min.js"></script>
	<script src="/js/core/bootstrap.min.js"></script>
	<script src="/iziToast-master/dist/js/iziToast.min.js"></script>
	<script src="/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
	<script src="/js/ready.min.js"></script>
	<script src="/js/toast.js"></script>
</body>
</html>
